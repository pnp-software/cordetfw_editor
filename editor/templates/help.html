{% extends "base_generic.html" %}

{% load static %}

{% block content %}
<div class="col-lg-10 col-xl-9">
<div class="jumbotron jumbotron-fluid bg-transparent mb-n3">
  <h2 class="display-6">Cordet FW Editor - Online Help</h2>
  <p class="lead">Web-based editor to support the specification of a service-oriented software application</p>
</div>

<div class="container-fluid bg-grey">
    <p>
    The editor provides an environment where users can specify their service-oriented applications.
    The editor explicitly supports the service concept of the 
    <a href="https://www.pnp-software.com/cordetfw">Cordet Framework</a> but can also be used independently
    of the framework as a generic requirements capture tool.
    </p><p>
    The data managed by the editor are stored in a database held on a server.
    The processing of the editor data is done by a back-end running on the server.
    The rendering of the editor data is done by a front-end running on a client machine.
    </p><p>
    The Cordet FW Editor lets users create an <strong>instance</strong> of a specification for their applications.
    The editor enforces a <strong>model</strong> of how this specification instance is built.
    The model has two parts: a static part which defines the structure of the editor database; 
    and a dynamic part which defines the behaviour associated to the data held in the database.
    The editor behaviour is implemented in the back-end component of the editor.
    </p>
 
   
    <h3>Editor Access</h3>
    <p>
    Access to the editor is for members only. 
    Prospective users apply for membership by contacting the <a href="mailto:pnp-software@pnp-software.com">administrator</a>.
    Members are given a user name and an initial password (which they are expected to change after the first log-in) and they
    are allocated to one or more <i>projects</i>.
    </p>
    
    <h3>Modelled Concepts</h3>
    <p>
    The editor database models the following concepts:
    <ul>
    <li>Users</li>
    <li>Projects</li>
    <li>Applications</li>
    <li>Releases</li>
    <li>Specification Items</li>
    <li>ValSets</li>
    </ul>
    The <strong>users</strong> are the entities interacting with the editor.
    An admin user is responsible for administration tasks; other users are responsible for populating
    the database.
    Each user is allocated to a project (but the same user may be allocated to multiple projects).
    Each user may have different <a href"#UserRoles">roles</a> within a project defining different 
    levels of access to the project artifacts.
    </p><p>
    A <strong>project</strong> is the top-level container for a specification created by the editor users.
    It consists of a set of <strong>applications</strong>.
    Each specification item belongs either to a project (in which case it is common to all applications
    within the project) or it belongs to an application within a project.
    </p><p>
    Both projects and applications may have multiple <a href"#Releases"><strong>releases</strong></a>.
    A project release is identified by a non-negative integer.
    An application release is identified by a pair "x.y" where 'x' is the release identifier of the
    project to which the application belongs and 'y' is a non-negative integer.
    </p><p>
    A <a href="#SpecItems"><strong>specification item</strong></a> is the lowest-level item managed by the editor.
    Specification items are created, edited and deleted by the users.
    A specification item could, for instance, consist of an application requirement, or of the definition
    of a data item, or of a model used to describe part of an application behaviour.
    </p><p>
    A <strong>ValSet</strong> is a set of values for the specification items within a project.
    The "Default" ValSet is pre-defined.
    A project may have additional ValSet representing alternative values for some of their specification items.
    Each specification value is assigned to a ValSet.
    To illustrate, let specification item S1 be assigned to the Default ValSet.
    Suppose that there is a need to maintain a variant of specification item S1. This could, for instance,
    be due to the fact that the system which is being specified in the editor exists in two slightly
    dfferent variants, which differ from each other in having two different instances of specification item S1.
    In such a scenario, a second ValSet is created to hold the specification items which have different
    formulations for the alternative variant of the system.
    </p>
    
    <h3><a name="SpecItems">Specification Items</a></h3>
    <p>
    Specification items are defined by their attributes and by the behaviour associated to them
    (i.e. by the way they are handled by the editor).
    Specification items are divided into <strong>categories</strong>. 
    Specification items in the same category have the same behaviour associated to them (i.e. they are
    treated in the same way by the editor).    
    </p><p>
    Some specification item attributes (the <strong>core attributes</strong>) have a semantics which is
    independent of the specification item category.
    Other specification item attributes have a category-specific semantics.
    </p><p>
    Within a project, a specification item is identified by the pair: <strong>domain:name</strong>. 
    The domain is used to capture a set of logically related specification items and acts as a kind
    of name space.
    The name is unique within the domain.
    </p><p>
    The editor keeps track of the <a href="#History"><strong>history</strong></a> of specification 
    items by maintaining different copies
    of the specification item reflecting the temporal evolution of the specification item.
    The history mechanism is supported by the 
    <strong>update time</strong> attribute representing the time when the specification time was last updated
    and by the <strong>previous</strong> attribute which points to the previous version of the specification item. 
    </p><p>
    Each specification item has an owner, which is the user who last updated the specification item.
    </p><p>
    Some categories of specification item may play different roles or may be of different kinds.
    This is captured by the <strong>primary kind</strong> and <strong>secondary kind</strong> attributes.
    </p><p>
    Each specification item has a short description (its <strong>title</strong>) and it may have a long
    description (its <strong>description</strong>). 
    The short description cannot exceed a pre-defined length. 
    Short and long description are intended to be edited together: the short description should be the first
    sentence of the complete (short+long) description. 
    The short description is also shown as a tip when hovering over an item in an HTML page.
    </p><p>
    Specification items may have up to three integer attributes which are called <strong>n1</strong>, 
    <strong>n2</strong> and <strong>n3</strong> and up to six text attributes.
    The primary text attribute is called the <strong>value</strong> and the others are called 
    <strong>t1</strong> to <strong>t5</strong>.
    </p><p>
    Specification items may have up to two links to other specification items: the <strong>primary link</strong>
    and the <strong>secondary link</strong>.      
    </p><p>
    The <strong>justification</strong> attribute holds information describing the rationale for the
    existing of the specification item and the <strong>remarks</strong> attributes holds generic remarks.    
    </p><p>
    Thus, in summary, the core attributes of specification items are 
    (asterisked attributes are mandatory; the others may be left empty):
    <ul>
    <li><i>Domain(*)</i>: the domain to which the specification item belongs (a string consisting 
                          of alphanumeric characters and underscores)</li>
    <li><i>Name(*)</i>: the name of the specification item (a string consisting 
                        of alphanumeric characters and underscores)</li>
    <li><i>Project(*)</i>: the project to which the specification item belongs </li>
    <li><i>Application</i>: the application to which the specification item belongs (empty if the specification
                     item describes a project-level feature)</li>
    <li><i>Category(*)</i>: the category of the specification item</li>
    <li><i>Title(*)</i>: a short description of the specification item</li>
    <li><i>Description</i>: a long description of the specification item</li>
    <li><i>Owner(*)</i>: the name of the user who created the specification item</li>
    <li><i>Status(*)</i>: the history status of the speecification item</li>
    <li><i>Update Time(*)</i>: the time when the specification item was created or when the 
                              history status of the specification was last updated</li>
    <li><i>Previous</i>: the pointer to the previous version of a specification item which has been modified 
                                 (empty if the specification item has no history)</li>
    <li><i>Justification</i>: the rationale for the existence of the specification item or for its value</li>
    <li><i>Remarks</i>: any remarks applicable to the specification item</li> 
    <li><i>ValSet(*)</i>: the <a href="#ValSets">ValSet</a> to which the specification item belongs</li> 
    </ul>
    The category-specific attributes are discussed <a href="#SpecItemCat">below</a>.
    </p><p>
    
    <h4><a name="SpecItemCat">Specification Item Categories</a></h4>
    <p>
    The specification item categories are listed below together with the semantics of their
    non-core attributes. 
    <ul>
    <li><i>Requirement</i>: specification of a feature of an application</li>
        <ul>
        <li>Value: the normative text of the requirement</li>
        <li>Primary Kind: the kind of requirement (standard requirement, adaptation requirement, or constraint requirement)</li>
        <li>secondary Kind: the verification method for the requirement</li>
        </ul>
    <li><i>Data Item Type</i>: specification of a data item type </li>
        <ul>
        <li>Value: the native type to which the type is mapped</li>
        <li>N1: the size in number of bits of the type</li>
        <li>Primary Kind: the kind of data item type (either enumerated or non-enumerated</li>
        </ul>
    <li><i>Enumerated Item</i>: specification of a value of an enumerated type</li>
        <ul>
        <li>Value: the value of the enumerated item</li>
        <li>Primary Link: the type to which the enumerated item belongs</li>
        </ul>
    <li><i>Data Item</i>: specification of a data item</li>
        <ul>
        <li>Value: the value of the data item (possibly expressed as an arithmetic expression
                   of other data items)</li>
        <li>Primary Kind: the kind of data item (a constant, a global variable, a parameter, a packet parameter)</li>
        <li>N1: the multiplicity of the data item</li>
        </ul>
    <li><i>Behavioural Model</i>: a FW Profile model describing an aspect of an application behaviour</li>
        <ul>
        <li>Value: the json representation of the model</li>
        <li>Primary Kind: the kind of model (a state machine or a procedure)</li>
        <li>T1: the svg representation of the model</li>
        </ul>
    <li><i>Service</i>: specification of a service in a project</li>
        <ul>
        <li>Value: the service identifier</li>
        </ul>
    <li><i>Packet</i>: specification of a packet implementing a command or report in a service</li>
        <ul>
        <li>Value: the sub-service identifier</li>
        <li>T1: a description of the parameters</li>
        <li>T2: a description of the packet destination</li>
        <li>Primary Link: a pointer to the service to which the packet belongs</li>
        </ul>
    <li><i>Derived Packet</i>: specification of a derived packet</li>
        <ul>
        <li>Value: the sub-service identifier</li>
        <li>T1: a description of the parameters</li>
        <li>Primary Link: a pointer to the parent packet </li>
        <li>Secondary Link: a pointer to the enumerated item representing the value of the discriminant 
                            for a derived packet</li>
        </ul>
    <li><i>Packet Parameter</i>: specification of a parameter in a packet</li>
        <ul>
        <li>Primary Link: a pointer to the packet or derived packet to which the parameter belongs</li>
        <li>Secondary Link: a pointer to the data item acting as parameter</li>
        <li>Primary Kind: the role of the packet parameter (discriminant, housekeeping parameter, or packet parameter)</li>
        <li>N1: the position of the parameter within the packet</li>
        <li>N2: the parameter group size</li>
        <li>N3: the repetition number for the parameter</li>
        </ul>
    <li><i>Incoming Commands</i>: specification of the behaviour associated to a packet 
                                  carrying a command to an application</li>
        <ul>
        <li>Parent: a pointer to the packet or derived packet </li>
        <li>Value: the acceptance check </li>
        <li>T1: the ready check </li>
        <li>T2: the start action</li>
        <li>T3: the progress action </li>
        <li>T4: the termination action </li>
        <li>T5: the abort action</li>
        </ul>
    <li><i>Incoming Reports</i>: specification of the behaviour associated to a packet 
                                 carrying a report to an application</li>
        <ul>
        <li>Parent: a pointer to the packet or derived packet </li>
        <li>Value: the acceptance check </li>
        <li>T1: the update action</li>
        </ul>
    <li><i>Out-going Command or Report</i>: specification of the behaviour associated to a packet 
                                            carrying an out-going command or report from an application</li>
        <ul>
        <li>Parent: a pointer to the packet or derived packet </li>
        <li>Value: the enable check </li>
        <li>T1: the ready check </li>
        <li>T2: the repeat check</li>
        <li>T3: the update action </li>
        </ul>
    <li><i>Verification Item</i>: a piece of information which verifies other specification items 
                                  (e.g. a test case or an analysis of a requirement)</li>
        <ul>
        <li>Value: the description of the verification activity (e.g. the steps of the test case or
                   the description of the analysis or review activity) </li>
        <li>Primary Kind: the kind of verification item (test case, review item, or analysis item)</li>
        <li>T1: the pre-conditions for the verification activity</li>
        <li>T2: the post-conditions for the verification activity</li>
        <li>T3: the outcome of the verification activity</li>
        <li>T4: the verification status (open or closed)</li>
        <li>Verified Items: the specification items verified by the verification item</li>
        </ul>
    </ul>
    For some categories, category-specific attributes are defined in addition to the core attributes defined
    <a href="#SpecItems">here</a>.
    </p><p>
 
    <h3><a name="EditorConfig">Editor Configuration</a></h3>
    <p>
    Configuration information for the editor is held in the <strong>configuration dictionary</strong>.
    The 'General' key in the dictionary holds general configuration information.
    Additionally, for each specification item, a 'Category' key is present whose
    value is another dictionary with configuration information for that category.
    The most important item in this dictionary is the 'attrs' dictionary which
    lists the editable fields for that category and, for each, it provides the 
    following information:
    <ul>
    <li>label: the label used when the field is displayed or exported</li>
    <li>req_in_form: true if the field is mandatory</li>
    <li>kind: the kind of field, namely one of:</li>
        <ul>
        <li>plain_text: a text field without <a href=""#IntRef">internal references</a></li>
        <li>ref_text: a text field with <a href=""#IntRef">internal references</a></li>
        <li>plain_ref: a field with a reference to another specification item</li>
        <li>int: an integer field</li>
        </ul>
    </ul>
    </p><p>
         
    
    <h3><a name="EditorBehaviour">Editor Behaviour</a></h3>
    <p>
    The following sub-sections describe various aspects of the editor behaviour.
    
    <h4><a name="UserRoles">User Roles</a></h4>
    <p>
    There are two types of users: the <strong>admin user</strong> and <strong>basic users</strong>.
    </p><p>
    The <strong>admin user</strong> is responsible for: 
    <ul>
    <li>Creating and managing basic users</li>
    <li>Creating projects and assigning their owner</li>
    <li>Assigning basic users to a project</li>
    <li>Defining the ValSets for the specification items of a project</li>
    </ul>
    The <strong>basic users</strong> (or just "users" for short) manage the project and the specification items they contain 
    in accordance with their roles.
    Within a project, a user has one of two roles:
    <ul>
    <li>The <strong>Project Owner</strong> is appointed by the admin user when the project is created.
    The project owner can: 
        <ul>
        <li>Create and edit applications within the project</li>
        <li>Make a new release of a project or of one of its applications</li>
        <li>Create new specification items in the project </li>
        <li>Edit, view, copy and delete the specification items in the project </li>
        </ul>
    <li>The <strong>Project User</strong> is allocated to a project by the admin user.
    The project user can: 
        <ul>
        <li>Create new specification items within the project </li>
        <li>Edit, view, copy and delete specification items in the project</li>
        </ul>
    </ul>
    A user can be assigned (either as owner or as plain user) to multiple projects.
    </p>
    
    
    <h4><a name="Releases">Release Mechanism</a></h4>
    <p>
    The release number of a project is a non-negative integer.
    The release number of an application has the form "x.y", where 'x' is the release number of the
    project to which the application belongs and 'y' is a non-negative number. 
    The release numbers of projects and applications are set according to the rules stated below.:
    <ul>
    <li>When a project is created, its release number x if set to zero</li>
    <li>When an application is created the y component of its release number is set to zero</li>
    <li>When the project owner makes a new release of a project, its release number is incremented by 1
    and the y component of the release number of its applications is set to zero</li>
    <li>When the project owner makes a new release of an applicatioin, 
    the y component of the release number of the application is incremented by 1</li>
    </ul>
    A textual description may be attached to each release.
    A release of a project or of an application causes the history status of the specification items
    in the project or application to be updated as described <a href="#History">below</a>. 
    </p>
    
    <h4><a name="History">History Mechanism</a></h4>
    <p>
    Specification items carry history information through the following attributes:
    (a) the owner; (b) the status; (c) the previous pointer; and (d) the update time.
    The status is one of the following:
        <ul>
        <li><strong>New</strong>: the item has been created in the current release</li>
        <li><strong>Modified </strong>: the item was created in a previous release and has been modified in the current release</li>
        <li><strong>Confirmed</strong>: the item was created in a previous release and has not been modified in the current release</li>
        <li><strong>Obsolete</strong>: the item was created in a previous release and has since been modified</li>
        <li><strong>Deleted</strong>: the item was created in a previous release and has since been deleted</li>
        </ul>
    The status information evolves according to the logic in the state diagram:
    </p><p>
    <img src="{% static 'images/HistoryStatus.png' %}"> 
    </p>
    
    <h4><a name="ValSets">ValSets</a></h4>
    A ValSet is a set of alternative values for the specification items in a project.
    The admin user defines the range of ValSets for each project. 
    The 'Default' ValSet is pre-defined for all projects. 
    </p><p>
    The val_set attribute of a specification item is used to manage the ValSets. 
    When a specification item is created, it is allocated to the Default ValSet.
    Subsequently, the user can <strong>split</strong> the specification item. 
    When specification item S1 in the Default ValSet is split, a new specification item S2 is created with
    the following characteristics:
    <ul>
    <li>S2 has the same domain and name as S1</li>
    <li>The val_set attribute of S2 is different from the val_set attribute of all other specification
        items created by splitting S1 (i.e. no two specification items with the same domain and name can 
        belong to the same ValSet) </li>
    <li>The 'parent' attribute of S2 points to S1</li>
    <li>Other pointer attributes of S2 are left blank</li>
    <li>Non-pointer attributes of S2 other than domain and name can be set freely</li>
    </ul>
    </p><p>
    When the two specification items S1 and S2 are edited, the following constraints are enforced:
    <ul>
    <li>The ValSet cannot be changed (i.e. the ValSet attribute can only be modified in a split operation)</li>
    <li>The domain and the name of S2  cannot be changed</li>
    <li>The pointer attributes of S2  cannot be changed (i.e. they must remain blank)</li>
    <li>If the domain or the name of S1 is updated, the change is propagated to S2</li>
    <li>If S1 is deleted, then S2 is deleted, too</li>
    <li>Pointer attributes of S1 can only point to specification items in the Default ValSet</li>
    </ul>
    Thus, S2 serves as a clone of S1 which differs from it in having potentially different values for its
    attributes of primitive type.
    </p>
    
    <h4><a name="SpecItemOper">Operations Performed on Specification Items</a></h4>
    <p>
    The following operation may be performed on a SpecItem:
    <ul>
    <li><strong>Add</strong>: a new spec_item is created</li>
    <li><strong>Edit </strong>: an existing spec_item is modified</li>
    <li><strong>Copy</strong>: a copy is created of a spec_item in the Default ValSet</li>
    <li><strong>Delete</strong>: a spec_item is deleted</li>
    <li><strong>Split</strong>: a copy of a spec_item is created in a different ValSet</li>
    </ul>
    </p><p>
    The semantics of these operations is illustrated in the activity diagrams below.
    In all cases, the user is presented a form which he fills in with information related to
    the requested operation.
    Before being processed, a validity check is performed on the data entered in the form by
    the user.
    The validity check comprises: (a) generic checks and (b) category-specific checks.
    The generic checks are specified in the activity diagrams below.
    The category-specific checks are:
    <ul>
    <li><strong>Data Item Types</strong>: If the kind of a data item type is set to non-enumerated, 
                                          it cannot have enumerated items attached to it</li>
    <li><strong>Data Items</strong>: The value of data item of enumerated type must be an 
                                     <a href="#IntRef">internal reference</a> to an enumerated value of that type</li>
    <li><strong>Data Items</strong>: <a href="#IntRef">Internal reference</a> in the value field may 
                                     only point to other data items</li>
    </ul>
    </p><p>
    <img src="{% static 'images/AddSpecItem.png' %}"> 
    </p><p>
    <img src="{% static 'images/EditSpecItem.png' %}"> 
    </p><p>
    <img src="{% static 'images/CopySpecItem.png' %}"> 
    </p><p>
    <img src="{% static 'images/DelSpecItem.png' %}"> 
    </p><p>
    <img src="{% static 'images/SplitSpecItem.png' %}"> 
    </p>
    
    <h4><a name="IntRef">Internal References</a></h4>
    <p>
    In the following text fields:
    <ul>
    <li>Description</li>
    <li>Value</li>
    <li>Justification</li>
    <li>Remarks</li>
    <li>Parameter Description</li>
    <li>Destination Description</li>
    <li>Acceptance Check</li>
    <li>Enable Check</li>
    <li>Ready Check</li>
    <li>Repeat Check</li>
    <li>Start Action</li>
    <li>Update Action</li>
    <li>Termination Action</li>
    <li>Progress Action</li>
    <li>Abort Action</li>
    <li>Pre-Condition</li>
    <li>Post-Condition</li>
    </ul>
    </p><p>
    It is possible to include a reference to another specification item.
    In the database, the internal reference is stored with a format like: '#iref:n' where 'n'
    is the identifier of the specification item being referred.
    The internal reference is rendered in different ways depending 
    on the context within which the text field is used.
    </p><p>
    In <strong>editing mode</strong>, the reference is introduced through the following syntaxt: '#cat:dom:name'.
    Here, 'cat' is the category of the target specification item; 'dom' is the domain of the
    target specification item; and 'name' is its name.
    When the reference is rendered in <strong>display mode</strong>, it is converted to a hyperlink; when
    it is rendered in <strong>export mode</strong>, it is converted to '#dom:name'.
    </p><p>
    Internal references always point to the specification item in the Default ValSet.
    It is not possible to have an internal reference to specification items in other ValSets.
    </p><p>
    In the special case of the 'value' field of data items, internal references can only be
    pointers to other data items.
    The intention is that the value of a data item is expressed as a function of the value 
    of other data items.
    The internal references can therefore be used to construct mathematical expressions 
    which depend on other data items.
    These expressions are evaluated when the data item is rendered for display.
    </p>    
    If specification item S is the target of an internal reference in another
    specification item, then, if S is deleted, the internal reference will become
    invalid. 
    There is no protection against this situation in the function which deletes the
    specification item.
    Users will notice the hanging reference when they try to display or export the specification
    item with the reference to S.
    <p></p>

    <h4><a name="SpecItemRep">Specification Item Representations</a></h4>
    <p>
    A specification item has multiple representation depending on the context in which it is used:
    <ul>
    <li><strong>Database Representation</strong> is the representation of the item in the database</li>
    <li><strong>Display Representation</strong> is used when rendering the item in an HTML page</li>
    <li><strong>Latex Representation</strong> is used when rendering the item for export to a csv format
        to be used in a latex document</li>
    <li><strong>Edit Representation</strong> is used when rendering the item in a form for editing
        by the user</li>
    <li><strong>Export Representation</strong> is used when rendering the item for 
                                               <a href="#ExpImp">plain export</a> to csv format</li>
    <li><strong>Eval Representation</strong> is used to render the numerical value of a 
        <a href="#DataItem">data item</a></li>
    </ul>
    <p></p>
    These representations primarily differ in their treatment of references to other specification items:
    <ul>
    <li><strong>Database Representation</strong>: internal references are rendered as '#iref:id' where
        'id' is the identifier of the referenced item; reference fields only contain the identifier
        of the referenced item.</li>
    <li><strong>Display Representation</strong>: references are rendered as 'domain:name'
        with a hyperlink to the referenced item<./li>
    <li><strong>Latex Representation</strong>: references are rendered as 'domain:name';
        reference fields are rendered through the string representation of the referenced field;
        "special characters" which are not accepted by Latex are escaped. </li>
    <li><strong>Edit Representation</strong>: internal references are rendered as '#cat:domain:name'</li>
    <li><strong>Export Representation</strong>: internal references are rendered as '#cat:domain:name'
        reference fields are rendered through the string representation of the referenced field</li>
    <li><strong>Eval Representation</strong>: the numerical value of the data item is evaluated by
        recursively evaluating the numerical value of all referenced data items</li>
    </ul>
    <p></p>
      
    <h4><a name="ExpImp">Export and Import</a></h4>
    <p>
    There are three kinds of data imports and exports:
    <ul>
    <li>Plain Export/Import</li>
    <li>Export to Latex Format</li>
    <li>Project Export/Import</li>
    </ul> 
    </p><p>
    <strong>Plain import and export</strong> are done when the editor is displaying the specification
    items in a given category and ValSet and, optionally, in a given domain. 
    The import/export function is applied to the specification items in the currently
    selected category and ValSet and, optionally, to the selected domain.    
    </p><p>    
    Plain export generates a csv table holding all the specification items in the
    currently selected category, ValSet and domain in <a href="#SpecItemRep">export representation</a>.
    Only the latest version of a specification item is exported.
    The exported fields are All the fields in the <a href="#EditorConfig">configuration dictionary</a>
    for the selected category. The field names in the exported file is the label
    the configuration dictionary.
    </p><p>
    Plain import processes a csv file with the same format as the file generated
    by the plain export function.
    One import operation imports a set of specification items of the currently selected
    category and of the currently selected ValSet.
    When the data in a csv file are imported, each row is assumed to define one specification
    item.
    Only the fields in the <a href="#EditorConfig">configuration dictionary</a> for the
    selected category are imported. 
    Other fields are set as follows:
    <ul>
    <li>The identifier is set by the database back-end when the item is saved</li>
    <li>The owner is set to the user who triggered the import</li>
    <li>The update time is set to the current time</li>
    <li>If there is no item with the same domain:name in the selected category and ValSet,
        the status is set to NEW and the previous pointer is set to 'None'</li>
    <li>If there is an item with the same domain:name in the selected category and ValSet,
        a copy is made of the existing item. the status of the new item is set to MOD and
        its previous pointer is set to the newly-copied item</li>
    </ul>
    Each imported specification item is processed according to the following activity diagram:
    <img src="{% static 'images/ImportSpecItem.png' %}"> 
    </p><p>
    <strong>Latex export</strong> is like plain export except for the following differences:    
    <ul>
    <li>In addition to the fields in the configuration dictionary, the following fields
        are also exported: project and application name, owner, update time and status;
        the names of these extra fields in the exported file are the same as the names
        of the fields in the database model converted to CamelCase</li>
    <li>Exported fields are converted from database to latex format</li>
    </ul> 
    There is no import facility for latex formatted files.
    </p><p>
    <strong>Project import and export</strong> are still TBD.    
        
     

    
    <h4><a name="BehaviouralModels">Behavioural Models</a></h4>
    <p>
    Behavioural models are implemented as state machine or procedure models generated with the 
    <a href="https://www.pnp-software.com/fwprofile/editor">FW Profile Editor</a>.
    The FW Profile Editor stores models in a database (the <i>FW Profile Editor Database</i>).
    Each model has an owner who is identified by its e-mail address.
    Within the FW Profile Editor, models have a name and can have a domain and a title.
    Models are defined as json strings and an svg representation which can be used to render them as pictures.
    </p><p>
    The Cordet FW Editor has a connection to FW Profile Editor Database and it allows a user to import all the models 
    corresponding to one or more domains.
    In response to an import request, the Cordet FW Editor retrieves the FW Profile Models of the selected domains from the FW Profile Editor
    Database and imports them into a dedicated table (the <i>FwProfileModel</i> table) in the Cordet FW Editor Database. 
    The import function processes each imported model according to the following rules:
    <ul>
    <li>If an entry exists in the FwProfileModel table with the same domain and name as the imported model, and if the status of this entry is
        'CNF', and if the imported entry is identical to the local entry, then nothing is done.</li>
    <li>If an entry exists in the FwProfileModel table with the same domain and name as the imported model, and if the status of this entry is
        'CNF', and if the imported entry differs from the local entry, then the status of the local entry is changed from 'CNF' to 'OBS' and
        a new record is created in the FwProfileModel table to hold the imported model. The status of the newly created entry is set to 'NEW'
        and its 'previous' field is set to point to the old entry.</li>
    <li>If an entry exists in the FwProfileModel table with the same domain and name as the imported model, and if the status of this entry is
        'NEW', then the entry is overwritten with the imported data.</li>
    <li>In all other cases, 
        a new record is created in the FwProfileModel table to hold the imported model. The status of the newly created entry is set to 'NEW'
        and its 'previous' field is set to 'None'.</li>
    </ul>
    In the second and third case, an error is issued if more than one entry is found with the same domain:name:status combination is found.
    </p><p>
    
    <h4><a name="DataItems">Data Items</a></h4>
    TBD
    </p><p>
    
    
    
    
 
    

     
 

    
    
    
    
    
    
    
    
    



    

    
    



</div>
{% endblock %}
