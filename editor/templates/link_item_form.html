{% extends "base_generic.html" %}
{% load crispy_forms_tags %}
{% load ref_filters %}
{% block content %}
<div class="col-lg-10 col-xl-9">
<div class="jumbotron jumbotron-fluid bg-transparent mt-n3 mb-n5">
  <h2>{{mode}} Verification Link for {{ver_item.domain}}:{{ver_item.name}}</h2>
</div>

{% crispy form %}

    <table class="table table-hover table-sm">
      <thead>
        <tr class="table-warning">
          <th>Category</th>
          <th>Name</th>
          <th>Description</th>
          <th>Verification Link Description</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for link in ver_item_links %}
           <trv>
            <td>{{link.spec_item.cat}}</td>
            <td><a href="{% url 'list_spec_items' link.spec_item.cat project.id application_id val_set.id link.spec_item.domain %}">
                {{link.spec_item.domain}}:{{link.spec_item.name}}</a></td>
            <td><strong>{{link.spec_item.title}}</strong> 
                {% if item.desc != '' %}
                {{item.desc|filter_refs|linebreaksbr}}
                {% endif %}
            </td>
            <td><strong>{{link.title}}</strong> {{link.desc}}</td>
            <td>
              <div class="btn-group">
                <a class="btn btn-outline-dark btn-sm"
                   href="{% url 'copy_ver_link' project.id application_id item.id sel_dom %}" title="Copy Verification Link">C</a>
                <a class="btn btn-outline-dark btn-sm"
                   href="{% url 'del_ver_link' project.id application_id item.id sel_dom %}" title="Delete Verification Link">D</a>
                <a class="btn btn-outline-dark btn-sm"
                   href="{% url 'edit_ver_link' project.id application_id item.id sel_dom %}" title="Edit Verification Link">E</a>
              </div> 
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>



{% if form.errors %}
    {% for field in form %}
        {% for error in field.errors %}
            <div class="alert alert-danger">
                <strong>{{ field.name }}: {{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endfor %}
    {% for error in form.non_field_errors %}
        <div class="alert alert-danger">
            <strong>{{ error|escape }}</strong>
        </div>
    {% endfor %}
{% endif %}

</div>
{% endblock %}
